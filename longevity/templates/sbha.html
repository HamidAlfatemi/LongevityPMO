<!-- Copyright (c) Django Software Foundation and individual contributors. -->

{% load static %}

<!DOCTYPE html>

<html lang="en">



<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Systems Biology of Human Aging</title>
	
    <link rel="stylesheet" href="{% static 'css/cytoscape-styles.css' %}">
	<link rel="stylesheet" href="{% static 'css/lpmo.css' %}">
	<!-- <link rel="stylesheet" href="{{ STATIC_URL }} css/cytoscape-styles.css" media="screen">
	<link rel="stylesheet" href="{{ STATIC_URL }} css/lpmo.css" media="screen"> -->

	<!-- ------------- time measurement ---------------
    <script>
        // Function to start measuring time
        function startTimer() {
            return performance.now(); // Get the current time
        }

        // Function to end measuring time and display it in the console
        function endTimer(startTime, message) {
            var endTime = performance.now(); // Get the current time
            var elapsedTime = (endTime - startTime) / 1000; // Calculate elapsed time in seconds
            console.log(`${message}: ${elapsedTime.toFixed(2)} seconds`); // Log the elapsed time to the console along with the message
        }
    </script>
	<!-- ---------------------------------------------- -->

</head>


<!-- <style>
    #cy {
        position: absolute;
        width: 100%;
        height: 100%;
        display: block
        border: 1px solid #000;
		zoom: 1;
    }
</style> -->

<body>
	
    <div class="container">
	    <h1>Systems Biology of Human Aging - Network Model</h1>
		<h2>By: John D. Furber<br>© 2000 - 2019 John D. Furber<br>All rights reserved.<br><br>Legendary Pharmaceuticals</h2>
		<h3>PO Box 14200
		    <br>Gainesville FL 32604-2200 USA
			<br>JohnFurber@LegendaryPharma.com
			<br><br>Download PDF version to print: <a href="http://www.LegendaryPharma.com/chartbg.html" target="_blank">www.LegendaryPharma.com/chartbg.html</a>
			<br><br>Developed in Cytoscape.js at: <a href="https://rejuvenomicslab.com/" target="_blank"> Rejuvenomics Lab</a> by permission of John D. Furber.
			<br><br>© 2016-2021, 2023, The Cytoscape Consortium
		</h3>

        <!-- <div id="cy" style="position: absolute; width: 400%; height: 1920%; display: block; border: 1px solid #000; zoom: 1;"></div> -->
    </div>
    <div id="cy"></div>
    <!-- <script src="https://cdn.jsdelivr.net/npm/cytoscape@3.28.1/dist/cytoscape.min.js"></script>
    <script src="https://unpkg.com/webcola/WebCola/cola.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/cytoscape-cola@2.5.1/cytoscape-cola.min.js"></script> -->

<!-- Copyright (c) 2016-2021, 2023, The Cytoscape Consortium -->
    <script src="{% static 'cytoscape/dist/cytoscape.min.js' %}"></script>
    <script src="{% static 'webcola/WebCola/cola.min.js' %}"></script>
    <script src="{% static 'cytoscape-cola/cytoscape-cola.js' %}"></script>

    <!-- <script>
    </script> -->
	
    <script>

                        ////////////////////// time measurement /////////////////////////
                        //var startTime = Date.now();
	                    //console.log('Start time:', startTime.toFixed(2))
                        /////////////////////////////////////////////////////////////////

        document.addEventListener('DOMContentLoaded', function () {
            var cy = cytoscape({

                container: document.getElementById('cy'),

                elements: {
                    nodes: [
                        {% for node in nodes %}
                        {
                            data: { id: '{{ node.node_id }}', label: '[{{ node.ref_num }}]\n{{ node.nodecaption|default:'' }}', parent: '{{ node.parent_n_id }}' },
                            style: {{ node.style|safe }},
                        }{% if not forloop.last %},{% endif %}
                        {% endfor %}
                    ],

                    edges: [
                        {% for edge in edges %}
                        { data: { source: '{{ edge.begin.node_id }}', target: '{{ edge.end.node_id }}' }, style: {{edge.style|safe }} },
                        {% endfor %}
                    ]
                },

                layout: {
                    name: 'cola',
                    flow: 'x',
					animate: false,
                },

                style: [
                    {
                        selector: 'node',
                        style: {
                            'label': 'data(label)',
                        }
                    },
                    {
                        selector: 'edge',
                        style: {
                            'curve-style': 'bezier',
							'line-opacity': 0.63 //,
							//'target-arrow-opacity': 0.63
                        }
                    },
                ]
            });
        });
        
                        ////////////////////// time measurement /////////////////////////
                        //var endTime = Date.now();
                        //var elapsedTime = (endTime - startTime)/1000;
		                //console.log('End time:', endTime.toFixed(2))
		                //console.log('total time:', elapsedTime.toFixed(2))
                        /////////////////////////////////////////////////////////////////
		
    </script>
</body>
</html>

